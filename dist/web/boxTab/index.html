<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Box Tab</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=es6,Intl"></script>
        <script src="https://cdn01.boxcdn.net/platform/preview/2.69.0/en-US/preview.js"></script>
        <link
            rel="stylesheet"
            href="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/explorer.css"
        />
        <link href="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/picker.css" rel="stylesheet" type="text/css"></link>
        <link href="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/uploader.css" rel="stylesheet" type="text/css"></link>
        <link href="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/openwith.css" rel="stylesheet" type="text/css"></link>
        <link href="https://cdn01.boxcdn.net/platform/preview/2.69.0/en-US/preview.css" rel="stylesheet" type="text/css"></link>
        <link href="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/sidebar.css" rel="stylesheet" type="text/css"></link>
        <!-- inject:css -->
        <link rel="stylesheet" href="/styles/main.css">
        <!-- endinject -->
    </head>

    <body>
        <div id="app">Loading...</div>
        <!-- inject:js -->
        <script src="/scripts/client.js"></script>
        <!-- endinject -->
        <script type="text/javascript">
            integration.render(
                integration.BoxTab,
                document.getElementById("app"),
                {}
            );
        </script>
        <script src="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/explorer.js"></script>
        <script src="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/picker.js"></script>
        <script src="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/uploader.js"></script>
        <script src="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/openwith.js"></script>
        <script src="https://cdn01.boxcdn.net/platform/elements/13.0.0/en-US/sidebar.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/localstorage-slim"></script>
        <script>
        window.onload = () => {
            // const accessToken = document.cookie.split("; ").find((row) => row.startsWith("access_token="))?.split("=")[1]; 
            const accessToken = window.ls.get("access_token");
            if (accessToken) {
                const folderID = "0";
                const contentExplorer = new Box.ContentExplorer();
                contentExplorer.show(
                    folderId,
                    accessToken,
                    {
                        container: ".container"
                    }
                );
            }
            document.getElementById("log").innerHTML = `${accessToken}`;
        }
        <div id="log"></div>
        </script>
    </body>
</html>
